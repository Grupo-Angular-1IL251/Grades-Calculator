<div class="form-container">
  <h2>Inserte la información para agregar una nueva Materia</h2>

  <form [formGroup]="formularioNotas" (ngSubmit)="enviarFormulario()">
    <label for="materia">Materia</label>
    <input id="materia" formControlName="materia" placeholder="Ingrese el nombre de la materia" />
    <div *ngIf="formularioNotas.get('materia')?.invalid && formularioNotas.get('materia')?.touched" class="error">
      ⚠️ Debe ingresar el nombre de la materia.
    </div>

    <div class="bloque">
      <h3>Parciales</h3>
      <label>Porcentaje de los parciales</label>
      <div class="input-porcentaje">
        <input type="number" formControlName="parciales" /> <span>%</span>
      </div>
    </div>

    <div class="bloque">
      <h3>Asignaciones</h3>
      <label>Porcentaje de las asignaciones</label>
      <div class="input-porcentaje">
        <input type="number" formControlName="asignaciones" /> <span>%</span>
      </div>
    </div>

    <div class="bloque">
      <h3>Portafolio</h3>
      <label>Porcentaje del portafolio</label>
      <div class="input-porcentaje">
        <input type="number" formControlName="portafolio" /> <span>%</span>
      </div>
    </div>

    <div class="bloque">
      <h3>Semestral</h3>
      <label>Porcentaje del examen semestral</label>
      <div class="input-porcentaje">
        <input type="number" formControlName="semestral" /> <span>%</span>
      </div>
    </div>

    <!-- ⚠️ Error si la suma no es 100% -->
    <div *ngIf="formularioNotas.errors?.['porcentajeInvalido'] && formularioNotas.touched" class="error">
      ⚠️ La suma total de porcentajes debe ser exactamente 100%.
    </div>

    <p class="nota">
      Si alguna opción de porcentaje no se encuentra dentro de la división que utiliza su profesor, por favor coloque un 0.
    </p>

    <div class="botones">
      <button type="button" (click)="regresar()">Regresar</button>
      <button type="submit" class="enviar">Enviar</button>
    </div>
  </form>
</div>
